<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Clicker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Tela Principal -->
    <div id="main-screen" class="container">
        <h1>Anime Clicker</h1>
        <p>Afeto: <span id="afeto">0</span></p>
        <p>B√¥nus por clique: <span id="bonus">1</span></p>
        <p>Afeto passivo: <span id="passive">0</span></p>
        
        <button id="clique">üíñ Clicar</button>

        <h2>Loja</h2>
        <div class="tabs">
            <button class="tab-button" data-anime="naruto">Naruto üç•</button>
            <button class="tab-button" data-anime="bleach">Bleach ‚öîÔ∏è</button>
            <button class="tab-button" data-anime="basic">Outros üíï</button>
        </div>

        <button id="open-shop">üõí Abrir Loja</button>
    </div>

    <!-- Tela da Loja -->
    <div id="shop-screen" class="container hidden">
        <h2>Loja de Personagens</h2>
        <div id="shop-content"></div>
        <button id="back-from-shop">üîô Voltar</button>
    </div>

    <!-- Popup de Conquistas -->
    <div id="achievement-popup" class="hidden">
        <h2 id="achievement-title"></h2>
        <p id="achievement-message"></p>
    </div>

    <!-- Firebase SDK (modular) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore, doc, getDoc, updateDoc, setDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDKv6iwy2bUMX67Gdud48UByHl4iBvUjFc",
            authDomain: "animeclicker-5de9c.firebaseapp.com",
            projectId: "animeclicker-5de9c",
            storageBucket: "animeclicker-5de9c.appspot.com",
            messagingSenderId: "53575639513",
            appId: "1:53575639513:web:2861bcbe65ba1bed1739c8"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.firebaseDB = {
            db: db,
            getDocument: async function(collectionName, docId) {
                const docRef = doc(db, collectionName, docId);
                return await getDoc(docRef);
            },
            setDocument: async function(collectionName, docId, data) {
                const docRef = doc(db, collectionName, docId);
                return await setDoc(docRef, data);
            },
            updateDocument: async function(collectionName, docId, data) {
                const docRef = doc(db, collectionName, docId);
                return await updateDoc(docRef, data);
            }
        };
    </script>

    <script type="module" src="script.js"></script>

</body>
</html>
